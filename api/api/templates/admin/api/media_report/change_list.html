{% extends "admin/change_list.html" %}
{% load i18n admin_urls static admin_list %}

{% block extrastyle %}
{{ block.super }}
<style>
  tr.is-soft-locked {
    background-color: var(--message-warning-bg);
  }
</style>
{% endblock %}

{% block result_list %}
<p>
  <strong>Note:</strong>
  Reports that are being moderated by another user are highlighted in yellow.
</p>
{{ block.super }}
{% endblock %}

{% block content %}
{{ block.super }}
<script>
  const reports = {{ locked_reports }};
  for (let report of reports) {
    document.querySelector(`tr:has(a[href*="/${report}/"])`).classList.add('is-soft-locked')
  }
</script>
{% endblock %}
