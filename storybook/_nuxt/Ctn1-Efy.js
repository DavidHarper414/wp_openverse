import{d as P,c as h,r as S,a0 as T,w as B,j as r,k as f,K as c,F as w,u as _,S as U,e as n,Q as x,L as F,N as b}from"./53SD24Bo.js";import{A as H}from"./f6gYKWT5.js";import{s as M}from"./oAL5f6fw.js";import{f as O,v as V}from"./B2IxrC02.js";import{h as j}from"./C8-1f-iU.js";import{u as z,d as v}from"./DfBJJsTM.js";import{u as K}from"./B7ZxQ_gM.js";import{u as L}from"./Czc_l-ka.js";import{u as Q}from"./D7hPg9gL.js";import{_ as q}from"./BbIRp0PO.js";import{_ as G}from"./CAvuyd0J.js";import{u as J,_ as W,a as X,b as Y}from"./PN1O6EwX.js";import{_ as Z}from"./CuYMliIc.js";import{_ as ee}from"./CoxMfUaD.js";import{_ as te}from"./HitB0DaN.js";import{u as oe}from"./BALwooav.js";import{u as ie}from"./YNFZ9E_Y.js";import{u as ae}from"./xWlSRzrQ.js";import{u as re}from"./CGdESDy3.js";import"./RQxsyxdU.js";import"../sb-preview/runtime.js";import"./BW6nfHgy.js";import"./DlQTGb70.js";import"./C4QhmNcb.js";import"./SylTzwMf.js";import"./okj3qyDJ.js";import"./DhkcGBrx.js";import"./BbcJJQG6.js";import"./D6RfD4r0.js";import"./BjsSTAr7.js";import"./Cai0IfA4.js";import"./7RO02bE1.js";import"./CGjrUY8T.js";import"./DXnxRZFx.js";import"./CLVl6rL5.js";import"./C-ucudUc.js";import"./CxEt8vcx.js";import"./BnJv8bNI.js";import"./UByQ4iSo.js";import"./B06vE1PI.js";import"./injiF9B5.js";import"./BQrorSEU.js";import"./DvUUAc5c.js";import"./CxzE6WfI.js";import"./BsOxdBIg.js";import"./DhTbjJlp.js";import"./BCWPXG3N.js";import"./Dzl5Fx40.js";import"./DYa50zxq.js";import"./DLCnOpdB.js";import"./RXhMJs7I.js";import"./x5q1_iJ-.js";import"./Dyscuaco.js";import"./BUSEWVk8.js";import"./B6C3U6x3.js";import"./ByZ6H8Q9.js";import"./Du1tbf4t.js";import"./R3gXRjU2.js";import"./C2aFgytJ.js";import"./CI6a1vKE.js";import"./Bm8ko7m0.js";import"./E3zY8j2p.js";import"./CIa-mw8Z.js";import"./DTl3TUVv.js";import"./DTI4cjWc.js";import"./CYxeF2X6.js";import"./BNEsrME-.js";import"./CF-sIb3h.js";import"./uxHFYFAg.js";import"./CkCFiYGT.js";import"./D0AVihdP.js";import"./DBQmRsQd.js";import"./ZoyJzfOp.js";import"./DaEyxQLt.js";import"./Bz0AvHAH.js";import"./DVK973mh.js";import"./CS5TX658.js";import"./DHaBzuWr.js";import"./DJzaQtkP.js";import"./CuMXPxoJ.js";import"./B3e0azOA.js";import"./DukodVLT.js";import"./NPo5mu7y.js";import"./C37UCF5e.js";import"./Be6Y9Xx3.js";import"./Bha9DXs4.js";import"./CNJjKMJB.js";import"./CPF47LAS.js";(function(){try{var a=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},o=new a.Error().stack;o&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[o]="e1bb871d-1a37-4b3d-bd77-408505ffaaf3",a._sentryDebugIdIdentifier="sentry-dbid-e1bb871d-1a37-4b3d-bd77-408505ffaaf3")}catch{}})();const me=["id"],se={class:"mx-auto mt-10 flex flex-col gap-10 px-6 lg:mt-16 lg:max-w-5xl lg:gap-16"},ne={class:"h-[75px] w-[75px] flex-none overflow-hidden rounded-sm lg:h-30 lg:w-30"},pe=P({name:"AudioDetailPage",__name:"index",async setup(a){var y;let o,u;Q();const m=z(),l=re(),i=h(()=>O(l==null?void 0:l.params.id)),A=oe();(!i.value||!V(i.value))&&v({statusCode:404,message:`Invalid audio id: "${i.value}".`,fatal:!0});const e=S((y=m.audio)!=null&&y.id&&i.value&&m.audio.id===i.value?m.audio:null),s=h(()=>m.fetchState.error),{isHidden:I,reveal:k}=L(e.value),{pageTitle:D,detailPageMeta:C}=J(e);ae(()=>({...C,title:D.value}));const{sendCustomEvent:$}=K(),E=(t,p)=>{$("AUDIO_INTERACTION",{...t,component:p})},N=async()=>{if(A.isHydrating)return e.value;const t=await m.fetch(H,i.value);if(t)return e.value=t,t;throw new Error(`Could not fetch audio with id ${i.value}`)},{error:d}=([o,u]=T(async()=>ie("single-audio",async()=>await N(),{lazy:!0,server:!1})),o=await o,u(),o),g=t=>{["Audio not found","Audio ID not found"].includes(t.message)&&v({statusCode:404,message:"Audio ID not found",fatal:!0}),s.value&&!j(s.value)&&v({...s.value??{},fatal:!0})};return d.value&&g(d.value),B(d,t=>{t&&g(t)}),(t,p)=>(r(),f("main",{id:_(M),tabindex:"-1",class:"relative flex-grow"},[s.value?(r(),c(te,{key:0,"fetching-error":s.value,class:"px-6 py-10 lg:px-10"},null,8,["fetching-error"])):e.value?(r(),f(w,{key:1},[_(I)?(r(),c(Z,U({key:0},e.value,{onReveal:_(k)}),null,16,["onReveal"])):(r(),f(w,{key:1},[n(W,{media:e.value},null,8,["media"]),n(q,{layout:"full",audio:e.value,class:"main-track",onInteracted:p[0]||(p[0]=R=>E(R,"AudioDetailPage"))},null,8,["audio"]),x("div",se,[n(G,{media:e.value},null,8,["media"]),n(X,{media:e.value},{thumbnail:F(()=>[x("div",ne,[n(ee,{audio:e.value},null,8,["audio"])])]),_:1},8,["media"]),e.value?(r(),c(Y,{key:0,"media-type":"audio","related-to":e.value.id,class:"mb-12"},null,8,["related-to"])):b("",!0)])],64))],64)):b("",!0)],8,me))}});pe.__docgenInfo={name:"AudioDetailPage",exportName:"default",displayName:"[id]",description:"",tags:{},sourceFiles:["/home/runner/work/openverse/openverse/frontend/src/pages/audio/[id]/index.vue"]};export{pe as default};
